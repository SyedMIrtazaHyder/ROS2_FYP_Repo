<?xml version="1.0" ?>
<robot xmlns:xacro="http://ros.org/wiki/xacro">
	<!-- Make a macro function with arguments (parent, direction (to keep wheel rotation consistent)) -->
	<xacro:property name="radius" value="0.3" />
	<xacro:property name="thickness" value="0.07" />

	<xacro:macro name="wheel" params="suffix direction parent *origin">
		<joint name="${suffix}_${direction}_wheel_joint" type="continuous">
			<axis xyz="0 0 1"/>
			<xacro:insert_block name="origin"/>
			<parent link="${parent}"/>
			<child link="${suffix}_${direction}_wheel_link"/>
			<dynamics damping="0.2" />
		</joint>

		<link name="${suffix}_${direction}_wheel_link">
			<visual>
				<geometry>
					<cylinder radius="${radius}" length="${thickness}" />
				</geometry>
				<origin xyz="0.0 0.0 0.0" rpy="0 0 0" />
				<material name="black">
					<color rgba="0 0 0 0.5"/>
				</material>
			</visual>
					<!-- Change to sphere later if the car drives a bit rough -->
			<collision>
				<geometry>
					<cylinder radius="${radius}" length="${thickness}" />
				</geometry>
				<origin xyz="0.0 0.0 0.0" rpy="0 0 0" />
			</collision>
			<inertial>
				<mass value="5.0"/>
				<inertia ixx="${(3*radius*radius + thickness*thickness)*5/12}" ixy="0.0" ixz="0.0" iyy="${(3*radius*radius + thickness*thickness)*5/12}" iyz="0.0" izz="${5*radius*radius/2}" />
			</inertial>
		</link>
	</xacro:macro>
</robot>
